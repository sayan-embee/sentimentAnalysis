<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.Sql160DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="160" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="NSSOperationAutomationApp.DB.dll" />
			<Metadata Name="FileName" Value="D:\NSSOPERATIONAUTOMATION\GIT\EMBEE_NSS_CLIENTAPP\NSSOPERATIONAUTOMATIONAPP.DB\OBJ\DEBUG\NSSOPERATIONAUTOMATIONAPP.DB.DLL" />
			<Metadata Name="AssemblyName" Value="NSSOperationAutomationApp.DB" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="D:\NSSOperationAutomation\GIT\Embee_NSS_ClientApp\NSSOperationAutomationApp.DB\obj\Debug\NSSOperationAutomationApp.DB.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_Conversations].[ConversationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_CallDetails]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[M_CallAction].[CallActionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_CardNotificationResponse].[NotificationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[M_CallAction]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_CallAction].[CallActionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_CallAction].[CallAction]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="13" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[M_CallStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_CallStatus].[CallStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_CallStatus].[CallStatus]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[M_DocumentType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_DocumentType].[DocumentTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_DocumentType].[DocumentType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[M_PartConsumptionType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_M_CallStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="17" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_T_TicketDetails]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_CallDetails]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[CallDetailId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[AssignmentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[UpdatedBy]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[UpdatedByEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[UpdatedByADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[UpdatedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[CallActionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[CustomerName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[CaseNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[UnitSlNo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[PassId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[TaskStartDateTimeIST]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[TaskEndDateTimeIST]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[CloserRemarks]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[SONo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[RequiredPart]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[RequiredSparePartNo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[RequiredPartName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[FaultyPartCTNo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[FailureId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[IssueDescription]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[TroubleshootingStep]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[FirstPartSONo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[FirstRequiredPartName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDetails].[ReceivedPartName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="10" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_CallDocuments]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[DocumentId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[CallDetailId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[DocumentTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[DocumentName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[MimeType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[DocumentUrlPath]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[InternalName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[CreatedOnUCT]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="9" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_CardNotificationResponse]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[NotificationId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[ReplyToId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[ActivityId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[ConversationId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[ServiceUrl]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[UserName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[UserADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[CreatedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[CaseNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[AssignmentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[AssignmentHistoryId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[CallDetailId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_CardNotificationResponse].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_Conversations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[ConversationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[UserName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[UserEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[TenantId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[ServiceUrl]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[BotInstalledOn]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[RecipientId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[RecipientName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[UserPrincipalName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[AppName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[Active]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_Conversations].[BotRemovedOn]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="8" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_EngineerAssignment]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignmentId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[TicketId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[CaseNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedTo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedToADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedBy]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AssignedByADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[CallActionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[CallStatusId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[ClosedBy]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[ClosedByADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignment].[CreatedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="14" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_EngineerAssignmentHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[TicketId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[ClosedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[T_TicketDetails]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[CaseNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[TicketId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[FromEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ToEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[CaseSubject]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[WorkOrderNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ServiceAccount]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ContactName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ContactEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ContactPhone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ServiceDeliveryStreetAddress]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ServiceDeliveryCity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ServiceDeliveryCountry]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PostalCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[SerialNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ProductName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[ProductNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[OTCCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartDescription]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[EmailSubject]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[EmailDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[CreatedOn]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartNumber2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartDescription2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartNumber3]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[PartDescription3]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[T_TicketDetails].[TicketType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="18" />
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[udt_T_CallDocuments]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[DocumentId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[CallDetailId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[DocumentTypeId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[DocumentName]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[MimeType]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[DocumentUrlPath]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[IsActive]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CallDocuments].[InternalName]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[udt_T_CardNotificationResponse]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[ReplyToId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[ActivityId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[ConversationId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[ServiceUrl]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[UserName]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[UserADID]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[Type]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[CaseNumber]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[AssignmentId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[AssignmentHistoryId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[CallDetailId]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_CardNotificationResponse].[Status]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTableType" Name="[dbo].[udt_T_TicketDetails]">
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[CaseNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[TicketId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[CaseSubject]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[ContactName]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[ContactEmail]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[SerialNumber]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[ProductName]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[ProductNumber]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[CreatedOn]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[TicketType]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedTo]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedToEmail]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedToADID]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedBy]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedByEmail]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlTableTypeSimpleColumn" Name="[dbo].[udt_T_TicketDetails].[AssignedByADID]">
						<Property Name="IsNullable" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	DECLARE @SuccessMsg VARCHAR(100);
	DECLARE @ErrorMsg VARCHAR(100);

	BEGIN TRY
	-----------------

		BEGIN TRANSACTION
		-----------------

		INSERT INTO dbo.[T_CardNotificationResponse]
		(
			ReplyToId,
			ActivityId,
			ConversationId,
			ServiceUrl,
			UserName,
			UserADID,
			[Type],
			CreatedOnUTC,
			IsActive,
			CaseNumber,
			AssignmentId,
			AssignmentHistoryId,
			CallDetailId,
			[Status]
		)
		SELECT
			udt.ReplyToId,
			udt.ActivityId,
			udt.ConversationId,
			udt.ServiceUrl,
			udt.UserName,
			udt.UserADID,
			udt.[Type],
			GETUTCDATE(),
			1,
			udt.CaseNumber,
			udt.AssignmentId,
			udt.AssignmentHistoryId,
			udt.CallDetailId,
			udt.[Status]
		FROM @udt_CardList udt

		SET @SuccessMsg = 'DB execution successful - Card response inserted';

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
		
		ROLLBACK TRANSACTION
		SET @ErrorMsg = 'DB execution failed - Insert card response'
		SELECT
		@ErrorMsg												AS [Message],
		ERROR_MESSAGE()		                                    AS ErrorMessage,
		0					                                    AS [Status],
		''				                                        AS Id
		RETURN

	END CATCH
	-----------------

	COMMIT TRANSACTION
	-----------------
	SELECT
		@SuccessMsg												AS [Message],
		''						                                AS ErrorMessage,
		1					                                    AS [Status],
		@@IDENTITY												AS Id

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[ReplyToId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[UserADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CardNotificationResponse].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ReplyToId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[UserADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList]" Disambiguator="5">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ReplyToId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ConversationId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="500" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[ServiceUrl]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[UserName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[UserADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[Type]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[AssignmentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[AssignmentHistoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[CallDetailId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList].[Status]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_AssignReassignTicket_CardResponse_Insert].[@udt_CardList]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[udt_T_CardNotificationResponse]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1652" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_AssignReassignTicket_CardResponse_Insert]&#xD;&#xA;(&#xD;&#xA;&#x9;@udt_CardList dbo.[udt_T_CardNotificationResponse] READONLY&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_Conversation_Remove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	UPDATE dbo.[T_Conversations]
	SET BotRemovedOn=DATEADD(minute,330,GETUTCDATE()),		
		Active=0
	WHERE ConversationId=@ConversationId AND AppName=@AppName
	AND UserId=@UserId
	
	IF @@ERROR<>0
	BEGIN
		SELECT 
			'Something went wrong, Unable to update conversation'	AS [Message],
			''						AS ErrorMessage,
			0						AS [Status],
			0						AS Id,
			''						AS ReferenceNo
		RETURN 
	END

	SELECT 
		'Conversation data updated successfully!'			AS	[Message],
		''								AS ErrorMessage,
		1								AS [Status],
		1								AS Id,
		@ConversationId					AS ReferenceNo
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[BotRemovedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Remove].[@ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Remove].[@AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Remove].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Remove].[@ConversationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Remove].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Remove].[@BotInstalledOn]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Remove].[@AppName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="782" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_Conversation_Remove]&#xD;&#xA;&#x9;@ConversationId  NVARCHAR(200),&#xD;&#xA;&#x9;@UserId   UNIQUEIDENTIFIER,&#xD;&#xA;&#x9;@BotInstalledOn DATETIME NULL,&#xD;&#xA;&#x9;@AppName NVARCHAR(100)=NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_Conversation_Update]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	UPDATE dbo.[T_Conversations]
	SET ActivityId=@ActivityId,
		ServiceUrl=@ServiceUrl,
		UserEmail=@UserEmail,
		UserName=@UserName,
		BotInstalledOn=DATEADD(minute,330,GETUTCDATE()),
		UserPrincipalName=@UserPrincipalName,
		AppName=@AppName,
		Active=@Active
	WHERE UserId=@UserId AND AppName=@AppName
	
	IF @@ERROR<>0
	BEGIN
		SELECT 
			'Something went wrong, Unable to update conversation'	AS [Message],
			''						AS ErrorMessage,
			0						AS [Status],
			0						AS Id,
			''						AS ReferenceNo
		RETURN 
	END

	SELECT 
		'Conversation data updated successfully!'			AS	[Message],
		''								AS ErrorMessage,
		1								AS [Status],
		1								AS Id,
		@ConversationId					AS ReferenceNo
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[BotInstalledOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserPrincipalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@UserPrincipalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Conversation_Update].[@ConversationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@ActivityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@ConversationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@ServiceUrl]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@UserEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@BotInstalledOn]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@UserPrincipalName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@AppName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@Active]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Conversation_Update].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1107" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_Conversation_Update]&#xD;&#xA;&#x9;@ActivityId NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@ConversationId  NVARCHAR(200),&#xD;&#xA;&#x9;@ServiceUrl NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@UserEmail  NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@UserName NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@BotInstalledOn DATETIME NULL,&#xD;&#xA;&#x9;@UserPrincipalName NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@AppName NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@Active BIT=1,&#xD;&#xA;&#x9;@UserId   UNIQUEIDENTIFIER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_CallAction_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

	SELECT
		[CallActionId]
		,[CallAction]
	FROM dbo.[M_CallAction] CA WITH(NOLOCK) 
	WHERE @Id IS NULL OR CA.CallActionId = @Id

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_CallAction_Get].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_CallAction_Get].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="230" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_M_CallAction_Get]&#xD;&#xA;  (&#xD;&#xA;&#x9;@Id INT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_CallStatus_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

	SELECT 
		[CallStatusId]
		,[CallStatus]
	FROM [dbo].[M_CallStatus] CS WITH(NOLOCK) 
	WHERE @Id IS NULL OR CS.CallStatusId = @Id

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_CallStatus_Get].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_CallStatus_Get].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="225" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE usp_M_CallStatus_Get&#xD;&#xA;  (&#xD;&#xA;&#x9;@Id INT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_Conversation_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT 
		V.ActivityId,
		V.BotInstalledOn,
		V.BotRemovedOn,
		V.ConversationId,
		V.RecipientId,
		V.RecipientName,
		V.ServiceUrl,
		V.UserEmail,
		V.TenantId,
		V.UserId,
		V.UserName,
		V.UserEmail,
		V.UserPrincipalName,
		V.AppName,
		V.Active

	FROM dbo.[T_Conversations] V WITH (NOLOCK)
	WHERE V.ConversationId=CASE WHEN ISNULL(@ConversationId,'')='' THEN  V.ConversationId ELSE @ConversationId END
	AND V.UserId=CASE WHEN @UserId IS NULL  THEN  V.UserId ELSE @UserId END
	AND V.AppName=CASE WHEN @AppName IS NULL  THEN  V.AppName ELSE @AppName END
	AND (ISNULL(@UserName,'')='' OR V.UserName LIKE @UserName + '%')
	AND (ISNULL(@UserEmail,'')='' OR V.UserEmail = @UserEmail)
	AND (ISNULL(@Filter,'')='' OR (V.UserEmail = @Filter OR V.UserName LIKE @Filter + '%'))
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[BotInstalledOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[BotRemovedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[RecipientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[RecipientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[TenantId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserPrincipalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Get].[@Filter]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@ConversationId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@UserId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@AppName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@UserEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Get].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1064" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_M_Conversation_Get]&#xD;&#xA;(&#xD;&#xA;&#x9;@ConversationId NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@UserId UNIQUEIDENTIFIER =NULL,&#xD;&#xA;&#x9;@AppName NVARCHAR(50)=NULL,&#xD;&#xA;&#x9;@UserName NVARCHAR(50)=NULL,&#xD;&#xA;&#x9;@UserEmail NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@Filter NVARCHAR(500)=NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_Conversation_Insert]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	
	INSERT INTO dbo.[T_Conversations]
	(
		ActivityId,ConversationId,RecipientId,RecipientName,ServiceUrl,UserEmail,TenantId,UserId,UserName,BotInstalledOn,UserPrincipalName,AppName,Active
	)
	VALUES
	(
		@ActivityId,@ConversationId,@RecipientId,@RecipientName,@ServiceUrl,@UserEmail,@TenantId,@UserId,@UserName,DATEADD(minute,330,GETUTCDATE()),@UserPrincipalName,@AppName,1
	)
	
	IF @@ERROR<>0
	BEGIN
		SELECT 
			'Something went wrong, Unable to insert Conversation data'	AS [Message],
			''						AS ErrorMessage,
			0						AS [Status],
			0						AS Id,
			''						AS ReferenceNo
		RETURN 
	END

	SELECT 
		'Conversation data saved successfully!'			AS	[Message],
		''								AS ErrorMessage,
		1								AS [Status],
		1					AS Id,
		@ConversationId					AS ReferenceNo
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[RecipientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[RecipientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[TenantId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[BotInstalledOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserPrincipalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@RecipientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@RecipientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@TenantId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@UserPrincipalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_Conversation_Insert].[@AppName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@ActivityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@ConversationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@RecipientId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@RecipientName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@ServiceUrl]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@UserEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@TenantId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@BotInstalledOn]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@UserPrincipalName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_Conversation_Insert].[@AppName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1276" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_M_Conversation_Insert]&#xD;&#xA;&#x9;@ActivityId NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@ConversationId  NVARCHAR(200),&#xD;&#xA;&#x9;@RecipientId  NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@RecipientName  NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@ServiceUrl NVARCHAR(200)=NULL,&#xD;&#xA;&#x9;@UserEmail  NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@TenantId  UNIQUEIDENTIFIER=NULL,&#xD;&#xA;&#x9;@UserId   UNIQUEIDENTIFIER,&#xD;&#xA;&#x9;@UserName NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@BotInstalledOn DATETIME NULL,&#xD;&#xA;&#x9;@UserPrincipalName NVARCHAR(100)=NULL,&#xD;&#xA;&#x9;@AppName NVARCHAR(100)=NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_DocumentType_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

	SELECT 
		[DocumentTypeId]
		,[DocumentType]
	FROM [dbo].[M_DocumentType] DT WITH(NOLOCK) 
	WHERE @Id IS NULL OR DT.DocumentTypeId = @Id

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_DocumentType_Get].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_DocumentType_Get].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="235" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE usp_M_DocumentType_Get&#xD;&#xA;  (&#xD;&#xA;&#x9;@Id INT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_M_PartConsumptionType_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

	SELECT 
		[PartConsumptionTypeId]
		,[PartConsumptionType]
	FROM [dbo].[M_PartConsumptionType] PCT WITH(NOLOCK) 
	WHERE @Id IS NULL OR PCT.PartConsumptionTypeId = @Id

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_M_PartConsumptionType_Get].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_M_PartConsumptionType_Get].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="272" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE usp_M_PartConsumptionType_Get&#xD;&#xA;  (&#xD;&#xA;&#x9;@Id INT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_CallDetails_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

		SELECT 
			[CallDetailId]
			,[AssignmentId]
			,[UpdatedBy]
			,[UpdatedByEmail]
			,[UpdatedByADID]
			--,[UpdatedOnUTC]
			,FORMAT(SWITCHOFFSET(UpdatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as UpdatedOnUTC
			,CD.[CallActionId]
			,CA.CallAction
			,[CustomerName]
			,[CaseNumber]
			,[UnitSlNo]
			,[PassId]
			,[TaskStartDateTimeIST]
			,[TaskEndDateTimeIST]
			,[CloserRemarks]
			,CD.[PartConsumptionTypeId]
			,PCT.PartConsumptionType
			,[SONo]
			,[RequiredPart]
			,[RequiredSparePartNo]
			,[RequiredPartName]
			,[FaultyPartCTNo]
			,[FailureId]
			,[IssueDescription]
			,[TroubleshootingStep]
			,[FirstPartConsumptionTypeId]
			--,PCT.PartConsumptionType AS 'FirstPartConsumptionType'
			,(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = FirstPartConsumptionTypeId) AS 'FirstPartConsumptionType'
			,[FirstPartSONo]
			,[FirstRequiredPartName]
			,[ReceivedPartConsumptionTypeId]
			--,PCT.PartConsumptionType AS 'ReceivedPartConsumptionType'
			,(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = ReceivedPartConsumptionTypeId) AS 'ReceivedPartConsumptionType'
			,[ReceivedPartName]
		FROM [dbo].[T_CallDetails] CD WITH(NOLOCK)
		
		INNER JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = CD.CallActionId

		LEFT JOIN [dbo].[M_PartConsumptionType] PCT WITH(NOLOCK) 
		ON (PCT.PartConsumptionTypeId = CD.PartConsumptionTypeId)
		OR (PCT.PartConsumptionTypeId = CD.FirstPartConsumptionTypeId)
		OR (PCT.PartConsumptionTypeId = CD.ReceivedPartConsumptionTypeId)

		WHERE (@CallDetailId IS NULL OR CD.CallDetailId = @CallDetailId)
			AND (@AssignmentId IS NULL OR CD.AssignmentId = @AssignmentId)
			AND (ISNULL(@CaseNumber,'')='' OR CD.CaseNumber LIKE @CaseNumber + '%')
			AND (ISNULL(@UpdatedBy,'')='' OR CD.UpdatedBy LIKE @UpdatedBy + '%')
			AND (ISNULL(@UpdatedByEmail,'') = '' OR CD.UpdatedByEmail = @UpdatedByEmail)
			AND (ISNULL(@FromDate,'')= '' OR CONVERT(DATE, SWITCHOFFSET(CD.UpdatedOnUTC, '+05:30')) >= CONVERT(DATE, @FromDate,103))
			AND (ISNULL(@ToDate ,'')= '' OR  CONVERT(DATE, SWITCHOFFSET(CD.UpdatedOnUTC, '+05:30')) <= CONVERT(DATE, @ToDate,103))
		ORDER BY CD.CallDetailId DESC


		IF(@CallDetailId IS NOT NULL AND @CallDetailId > 0)
		BEGIN

			SELECT 
				[DocumentId]
				,[CallDetailId]
				,CD.[DocumentTypeId]
				,DT.DocumentType
				,[DocumentName]
				,[MimeType]
				,[DocumentUrlPath]
				,[IsActive]
				,[InternalName]
				--,[CreatedOnUCT]
				,FORMAT(SWITCHOFFSET(CreatedOnUCT, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUCT
				--,[UpdatedOnUTC]
				,FORMAT(SWITCHOFFSET(UpdatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as UpdatedOnUTC
			FROM [dbo].[T_CallDocuments] CD WITH(NOLOCK)

			INNER JOIN [dbo].[M_DocumentType] DT WITH(NOLOCK) ON DT.DocumentTypeId = CD.DocumentId

			WHERE CD.CallDetailId = @CallDetailId
			ORDER BY DocumentId DESC

		END
  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_CallDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CustomerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UnitSlNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PassId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskStartDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskEndDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[SONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredSparePartNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FaultyPartCTNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FailureId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[IssueDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TroubleshootingStep]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartSONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstRequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@FromDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_Get].[@ToDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@CallDetailId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@AssignmentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@UpdatedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@UpdatedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@FromDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_Get].[@ToDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3350" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_CallDetails_Get]&#xD;&#xA;  (&#xD;&#xA;&#x9;@CallDetailId BIGINT = NULL,&#xD;&#xA;&#x9;@AssignmentId BIGINT = NULL,&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@UpdatedBy VARCHAR(100) = NULL,&#xD;&#xA;&#x9;@UpdatedByEmail VARCHAR(50) = NULL,&#xD;&#xA;    @FromDate VARCHAR(10) = NULL,&#xD;&#xA;    @ToDate VARCHAR(10) = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_CallDetails_InsertUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	
	DECLARE @SuccessMsg VARCHAR(100);
	DECLARE @ErrorMsg VARCHAR(100);

	DECLARE @OutputTbl AS TABLE
	(
		[CaseNumber]		VARCHAR (50),
		[TicketId]			BIGINT,
		[CreatedOn]			VARCHAR(50),
		[AssignedBy]		NVARCHAR (100),
		[AssignedByEmail]	VARCHAR (100),
		[AssignedByADID]	VARCHAR (50),
		[AssignedTo]		NVARCHAR (100),
		[AssignedToEmail]	VARCHAR (100),
		[AssignedToADID]	VARCHAR (50),
		[AssignedOn]		VARCHAR(50),
		[ServiceAccount]    VARCHAR (100),
		[CallStatus]		VARCHAR (100),
		[AssignmentId]		BIGINT,
		[AssignmentHistoryId]	BIGINT,
		[CallDetailId]      BIGINT,
		[CallAction]		VARCHAR (50),
		[UpdatedOnIST]		VARCHAR(50),
		[UpdatedBy]			VARCHAR(100),
		[UpdatedByEmail]	VARCHAR(100),
		[UpdatedByADID]		VARCHAR(50),
		[CloserRemarks]		NVARCHAR(MAX),
		[AdminClosureRemarks] NVARCHAR(MAX)
	);

	DECLARE @JSONString NVARCHAR(MAX) = NULL;

	IF EXISTS (SELECT * FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK) WHERE A.AssignmentId = @AssignmentId AND A.CaseNumber = @CaseNumber AND A.CallStatusId = 3)
	BEGIN
		SET @ErrorMsg = 'DB execution failed - CaseNumber with this AssignmentId is already closed';
		SELECT
			@ErrorMsg												AS [Message],
			''														AS ErrorMessage,
			0					                                    AS [Status],
			@AssignmentId				                            AS Id
			RETURN
	END


	IF(@TransactionType = 'CALL-I')
	BEGIN
	BEGIN TRY
	-----------------	

	BEGIN TRANSACTION
	-----------------

		INSERT INTO dbo.[T_CallDetails]
		(
			AssignmentId,
			UpdatedBy,
			UpdatedByEmail,
			UpdatedByADID,
			UpdatedOnUTC,
			CallActionId,
			CustomerName,
			CaseNumber,
			UnitSlNo,
			PassId,
			TaskStartDateTimeIST,
			TaskEndDateTimeIST,
			CloserRemarks,
			PartConsumptionTypeId,
			SONo,
			RequiredPart,
			RequiredSparePartNo,
			RequiredPartName,
			FaultyPartCTNo,
			FailureId,
			IssueDescription,
			TroubleshootingStep,
			FirstPartConsumptionTypeId,
			FirstPartSONo,
			FirstRequiredPartName,
			ReceivedPartConsumptionTypeId,
			ReceivedPartName
		)
		VALUES
		(
			@AssignmentId,
			@UpdatedBy,
			@UpdatedByEmail,
			@UpdatedByADID,
			GETUTCDATE(),
			@CallActionId,
			@CustomerName,
			@CaseNumber,
			@UnitSlNo,
			@PassId,
			@TaskStartDateTimeIST,
			@TaskEndDateTimeIST,
			@CloserRemarks,
			@PartConsumptionTypeId,
			@SONo,
			@RequiredPart,
			@RequiredSparePartNo,
			@RequiredPartName,
			@FaultyPartCTNo,
			@FailureId,
			@IssueDescription,
			@TroubleshootingStep,
			@FirstPartConsumptionTypeId,
			@FirstPartSONo,
			@FirstRequiredPartName,
			@ReceivedPartConsumptionTypeId,
			@ReceivedPartName
		);

		SET @CallDetailId = @@IDENTITY;

		IF(@CallDetailId > 0)
		BEGIN

			UPDATE dbo.[T_EngineerAssignment]
			SET CallActionId = ISNULL(@CallActionId, CallActionId),
			CallStatusId = ISNULL(@CallStatusId, CallStatusId)
			WHERE AssignmentId = @AssignmentId AND CaseNumber = @CaseNumber;

			IF(@CallActionId = 1 AND @CallStatusId = 3)
			BEGIN

				UPDATE dbo.[T_EngineerAssignment]
				SET ClosedBy = ISNULL(@UpdatedBy, ClosedBy),
				ClosedByEmail = ISNULL(@UpdatedByEmail, ClosedByEmail),
				ClosedByADID = ISNULL(@UpdatedByADID, ClosedByADID),
				ClosedOnUTC = GETUTCDATE()
				WHERE AssignmentId = @AssignmentId AND CaseNumber = @CaseNumber;


				SET @SuccessMsg = 'DB execution successful - CallDetails inserted';

			END

			IF EXISTS(SELECT * FROM @udt_CallDocuments CD)
			BEGIN

				INSERT INTO dbo.[T_CallDocuments]
				(
					CallDetailId,
					DocumentTypeId,
					DocumentName,
					MimeType,
					DocumentUrlPath,
					IsActive,
					InternalName,
					CreatedOnUCT
				)
				SELECT
					@CallDetailId,
					CD.DocumentTypeId,
					CD.DocumentName,
					CD.MimeType,
					CD.DocumentUrlPath,
					1,
					CD.InternalName,
					GETUTCDATE()
				FROM @udt_CallDocuments CD

				SET @SuccessMsg = 'DB execution successful - CallDetails & Documents inserted';

			END			

			INSERT INTO @OutputTbl
			(
				CaseNumber,
				TicketId,
				CreatedOn,
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOn,
				ServiceAccount,
				CallStatus,
				AssignmentId,
				AssignmentHistoryId,
				CallDetailId,
				CallAction,
				UpdatedOnIST,
				UpdatedBy,
				UpdatedByEmail,
				UpdatedByADID,
				CloserRemarks,
				AdminClosureRemarks
			)
			SELECT
				TD.CaseNumber,
				TD.TicketId,
				--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
				FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
				A.AssignedBy,
				A.AssignedByEmail,
				A.AssignedByADID,
				A.AssignedTo,
				A.AssignedToEmail,
				A.AssignedToADID,
				--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS AssignedOn,
				FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
				TD.ServiceAccount,
				CS.CallStatus,
				A.AssignmentId,
				AH.AssignmentHistoryId,
				CD.CallDetailId,
				CA.CallAction,
				FORMAT(SWITCHOFFSET(CD.UpdatedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss'),
				CD.UpdatedBy,
				CD.UpdatedByEmail,
				CD.UpdatedByADID,
				CD.CloserRemarks,
				A.AdminClosureRemarks
			FROM dbo.[T_CallDetails] CD WITH(NOLOCK)
			INNER JOIN dbo.[T_TicketDetails] TD WITH(NOLOCK) ON TD.CaseNumber = CD.CaseNumber
			INNER JOIN dbo.[T_EngineerAssignment] A WITH(NOLOCK) ON A.CaseNumber = TD.CaseNumber
			INNER JOIN dbo.[T_EngineerAssignmentHistory] AH WITH(NOLOCK) ON AH.AssignmentId = A.AssignmentId
			LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId
			LEFT JOIN dbo.[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = CD.CallActionId
			WHERE CD.CallDetailId = @CallDetailId
			AND CD.CaseNumber = @CaseNumber
			AND CD.AssignmentId = @AssignmentId

			SET @JSONString = (
				SELECT 
					CaseNumber,
					TicketId,
					CreatedOn,
					AssignedBy,
					AssignedByEmail,
					AssignedByADID,
					AssignedTo,
					AssignedToEmail,
					AssignedToADID,
					AssignedOn,
					ServiceAccount,
					CallStatus,
					AssignmentId,
					AssignmentHistoryId,
					CallDetailId,
					CallAction,
					UpdatedOnIST,
					UpdatedBy,
					UpdatedByEmail,
					UpdatedByADID,
					CloserRemarks,
					AdminClosureRemarks
				FROM @OutputTbl
			FOR JSON AUTO
			);

		END
		

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Insert CallDetails';
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	END

	--------------------------------------------------------------------------------

	IF(@TransactionType = 'CALL-U')
	BEGIN
	BEGIN TRY
	-----------------

	BEGIN TRANSACTION
	-----------------
		
		SET @SuccessMsg = 'DB execution successful - CallDetails updated';

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Update CallDetails'
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	END	

	--------------------------------------------------------------------------------


	COMMIT TRANSACTION
	-----------------
	SELECT
		@SuccessMsg												AS [Message],
		''						                                AS ErrorMessage,
		1					                                    AS [Status],
		@CallDetailId											AS Id,
		@AssignmentId											AS ReferenceNo,
		@JSONString												AS ReferenceObject
	RETURN
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TransactionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CustomerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UnitSlNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PassId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskStartDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskEndDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[SONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredSparePartNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FaultyPartCTNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FailureId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[IssueDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TroubleshootingStep]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartSONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstRequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CustomerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UnitSlNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@PassId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TaskStartDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TaskEndDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@SONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredPart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredSparePartNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FaultyPartCTNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FailureId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@IssueDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TroubleshootingStep]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstPartSONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstRequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@ReceivedPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedOnIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedOnIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AdminClosureRemarks]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[TicketId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[ServiceAccount]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AssignmentHistoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallDetailId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CallAction]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedOnIST]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[UpdatedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[CloserRemarks]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@OutputTbl].[AdminClosureRemarks]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments]" Disambiguator="4">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[CallDetailId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentTypeId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[MimeType]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[DocumentUrlPath]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[IsActive]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments].[InternalName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TransactionType]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallDetailId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@AssignmentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UpdatedByADID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallActionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CallStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CustomerName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@UnitSlNo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@PassId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TaskStartDateTimeIST]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TaskEndDateTimeIST]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@CloserRemarks]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@PartConsumptionTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@SONo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredPart]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredSparePartNo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@RequiredPartName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FaultyPartCTNo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FailureId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@IssueDescription]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@TroubleshootingStep]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstPartConsumptionTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstPartSONo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@FirstRequiredPartName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@ReceivedPartConsumptionTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@ReceivedPartName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDetails_InsertUpdate].[@udt_CallDocuments]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[udt_T_CallDocuments]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="9433" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_CallDetails_InsertUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@TransactionType VARCHAR(10) = NULL,&#xD;&#xA;&#xD;&#xA;&#x9;@CallDetailId BIGINT = 0,&#xD;&#xA;&#x9;@AssignmentId BIGINT = NULL,&#xD;&#xA;    @UpdatedBy VARCHAR(100) = NULL,&#xD;&#xA;    @UpdatedByEmail VARCHAR(100) = NULL,&#xD;&#xA;    @UpdatedByADID VARCHAR(50) = NULL,&#xD;&#xA;    @CallActionId INT = NULL,&#xD;&#xA;&#x9;@CallStatusId INT = NULL,&#xD;&#xA;    @CustomerName VARCHAR(200) = NULL,&#xD;&#xA;    @CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;    @UnitSlNo VARCHAR(50) = NULL,&#xD;&#xA;    @PassId VARCHAR(50) = NULL,&#xD;&#xA;    @TaskStartDateTimeIST DATETIME = NULL,&#xD;&#xA;    @TaskEndDateTimeIST DATETIME = NULL,&#xD;&#xA;    @CloserRemarks NVARCHAR(MAX) = NULL,&#xD;&#xA;    @PartConsumptionTypeId INT = NULL,&#xD;&#xA;    @SONo VARCHAR(50) = NULL,&#xD;&#xA;    @RequiredPart NVARCHAR(MAX) = NULL,&#xD;&#xA;    @RequiredSparePartNo VARCHAR(50) = NULL,&#xD;&#xA;    @RequiredPartName VARCHAR(100) = NULL,&#xD;&#xA;    @FaultyPartCTNo VARCHAR(50) = NULL,&#xD;&#xA;    @FailureId VARCHAR(50) = NULL,&#xD;&#xA;    @IssueDescription NVARCHAR(MAX) = NULL,&#xD;&#xA;    @TroubleshootingStep NVARCHAR(MAX) = NULL,&#xD;&#xA;    @FirstPartConsumptionTypeId INT = NULL,&#xD;&#xA;    @FirstPartSONo VARCHAR(50) = NULL,&#xD;&#xA;    @FirstRequiredPartName VARCHAR(100) = NULL,&#xD;&#xA;    @ReceivedPartConsumptionTypeId INT = NULL,&#xD;&#xA;    @ReceivedPartName VARCHAR(100) = NULL,&#x9;&#xD;&#xA;&#xD;&#xA;&#x9;@udt_CallDocuments dbo.[udt_T_CallDocuments] READONLY&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_CallDocuments_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

		SELECT 
			[DocumentId]
			,[CallDetailId]
			,CD.[DocumentTypeId]
			,DT.DocumentType
			,[DocumentName]
			,[MimeType]
			,[DocumentUrlPath]
			,[IsActive]
			,[InternalName]
			,[CreatedOnUCT]
			,[UpdatedOnUTC]
		FROM [dbo].[T_CallDocuments] CD WITH(NOLOCK)

		INNER JOIN [dbo].[M_DocumentType] DT WITH(NOLOCK) ON DT.DocumentTypeId = CD.DocumentId

		WHERE @DocumentId IS NULL OR CD.DocumentId = @DocumentId
		AND @CallDetailId IS NULL OR CD.CallDetailId = @CallDetailId
		ORDER BY DocumentId DESC

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_Get].[@DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_Get].[@CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDocuments_Get].[@DocumentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDocuments_Get].[@CallDetailId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="666" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_CallDocuments_Get]&#xD;&#xA;  (&#xD;&#xA;&#x9;@DocumentId BIGINT = NULL,&#xD;&#xA;&#x9;@CallDetailId BIGINT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_CallDocuments_InsertUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	
	DECLARE @SuccessMsg VARCHAR(100);
	DECLARE @ErrorMsg VARCHAR(100);
	DECLARE @CallDetailId BIGINT = 0;

	BEGIN TRY
	-----------------

	BEGIN TRANSACTION
	-----------------

		IF EXISTS (SELECT * FROM @udt_CallDocuments CD)
		BEGIN

			SET @CallDetailId = (SELECT TOP 1 CD.CallDetailId FROM @udt_CallDocuments CD)

			INSERT INTO dbo.[T_CallDocuments]
			(
				CallDetailId,
				DocumentTypeId,
				DocumentName,
				MimeType,
				DocumentUrlPath,
				IsActive,
				InternalName,
				CreatedOnUCT
			)
			SELECT
				CD.CallDetailId,
				CD.DocumentTypeId,
				CD.DocumentName,
				CD.MimeType,
				CD.DocumentUrlPath,
				1,
				CD.InternalName,
				GETUTCDATE()
			FROM @udt_CallDocuments CD
			WHERE CD.DocumentId = 0 AND ISNULL(CD.DocumentUrlPath, '') != '';
			
			UPDATE tbl_CD
			SET tbl_CD.IsActive = 0,
			tbl_CD.UpdatedOnUTC = GETUTCDATE()
			FROM dbo.[T_CallDocuments] tbl_CD, @udt_CallDocuments udt_CD
			WHERE udt_CD.DocumentId > 0
			AND udt_CD.IsActive = 0
			AND udt_CD.CallDetailId = tbl_CD.CallDetailId
			AND udt_CD.DocumentId = tbl_CD.DocumentId

		END
		
		SET @SuccessMsg = 'DB execution successful - CallDocuments updated';

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Update CallDocuments'
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	

	COMMIT TRANSACTION
	-----------------
	SELECT
		@SuccessMsg												AS [Message],
		''						                                AS ErrorMessage,
		1					                                    AS [Status],
		@CallDetailId											AS Id
	RETURN
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments]" Disambiguator="3">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[CallDetailId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentTypeId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[MimeType]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[DocumentUrlPath]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[IsActive]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments].[InternalName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_CallDocuments_InsertUpdate].[@udt_CallDocuments]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[udt_T_CallDocuments]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2049" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_CallDocuments_InsertUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@udt_CallDocuments dbo.[udt_T_CallDocuments] READONLY&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_EngineerAssignment_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

		SELECT 
			[AssignmentId]
			,[CaseNumber]
			,[TicketId]
			,[AssignedTo]
			,[AssignedToEmail]
			,[AssignedToADID]
			--,[AssignedOnUTC]
			,FORMAT(SWITCHOFFSET(AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as AssignedOnUTC
			,[AssignedBy]
			,[AssignedByEmail]
			,[AssignedByADID]
			,EA.[CallActionId]
			,CASE 
				WHEN EA.[CallActionId] IS NOT NULL THEN CA.CallAction
				ELSE 'Action Pending'
			 END AS 'CallAction'
			,EA.[CallStatusId]
			,CS.CallStatus
			,[ClosedBy]
			,[ClosedByEmail]
			--,[ClosedOnUTC]
			,FORMAT(SWITCHOFFSET(ClosedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as ClosedOnUTC
			,[AdminClosureRemarks]
			,[ClosedByADID]
			--,[CreatedOnUTC]
			,FORMAT(SWITCHOFFSET(CreatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUTC
		FROM [dbo].[T_EngineerAssignment] EA WITH(NOLOCK)

		INNER JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = EA.CallStatusId

		LEFT JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = EA.CallActionId		

		WHERE (@AssignmentId IS NULL OR EA.AssignmentId = @AssignmentId)
			AND (ISNULL(@CaseNumber,'')='' OR EA.CaseNumber LIKE @CaseNumber + '%')
			AND (@TicketId IS NULL OR EA.TicketId = @TicketId)
			AND (ISNULL(@AssignedTo,'')='' OR EA.AssignedTo LIKE @AssignedTo + '%')
			AND (ISNULL(@AssignedToEmail,'') = '' OR EA.AssignedToEmail = @AssignedToEmail)
			AND (ISNULL(@FromDate,'')= '' OR CONVERT(DATE, SWITCHOFFSET(EA.AssignedOnUTC, '+05:30')) >= CONVERT(DATE, @FromDate,103))
			AND (ISNULL(@ToDate ,'')= '' OR  CONVERT(DATE, SWITCHOFFSET(EA.AssignedOnUTC, '+05:30')) <= CONVERT(DATE, @ToDate,103))
		ORDER BY EA.AssignmentId DESC

		IF(@AssignmentId IS NOT NULL AND @AssignmentId > 0)
		BEGIN

			SELECT
				[AssignmentHistoryId]
				  ,[AssignmentId]
				  ,[CaseNumber]
				  ,[TicketId]
				  ,[AssignedTo]
				  ,[AssignedToEmail]
				  ,[AssignedToADID]
				  --,[AssignedOnUTC]
				  ,FORMAT(SWITCHOFFSET(AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as AssignedOnUTC
				  ,[AssignedBy]
				  ,[AssignedByEmail]
				  ,[AssignedByADID]
				  ,CASE 
						WHEN EAH.[CallActionId] IS NOT NULL THEN CA.CallAction
						ELSE 'Action Pending'
					END AS 'CallAction'
				  ,EAH.[CallStatusId]
				  ,CS.CallStatus
				  ,[ClosedBy]
				  ,[ClosedByEmail]
				  ,[ClosedByADID]
				  --,[ClosedOnUTC]
				  ,FORMAT(SWITCHOFFSET(ClosedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as ClosedOnUTC
				  ,[AdminClosureRemarks]
				  --,[CreatedOnUTC]
				  ,FORMAT(SWITCHOFFSET(CreatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUTC
		  FROM [dbo].[T_EngineerAssignmentHistory] EAH WITH(NOLOCK)

		  INNER JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = EAH.CallStatusId

		  LEFT JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = EAH.CallActionId

		  WHERE EAH.AssignmentId = @AssignmentId

		END

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@FromDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_Get].[@ToDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignmentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@TicketId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@SerialNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@PartNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@FromDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@ToDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedToEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@AssignedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@CallStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_Get].[@CallActionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3430" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_EngineerAssignment_Get]&#xD;&#xA;  (&#xD;&#xA;&#x9;@AssignmentId BIGINT = NULL,&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@TicketId BIGINT = NULL,&#xD;&#xA;&#x9;@SerialNumber NVARCHAR(50) = NULL,&#xD;&#xA;&#x9;@PartNumber NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@FromDate VARCHAR(10) = NULL,&#xD;&#xA;&#x9;@ToDate VARCHAR(10) = NULL,&#xD;&#xA;&#x9;@AssignedTo NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@AssignedToEmail VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@AssignedBy NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@AssignedByEmail VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@CallStatusId INT = NULL,&#xD;&#xA;&#x9;@CallActionId INT = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	
	DECLARE @AssignmentHistoryId BIGINT = 0;
	DECLARE @SuccessMsg VARCHAR(100);
	DECLARE @ErrorMsg VARCHAR(100);

	DECLARE @OutputTbl AS TABLE
	(
		[CaseNumber]		VARCHAR (50),
		[TicketId]			BIGINT,
		[CreatedOn]			VARCHAR(50),
		[AssignedBy]		NVARCHAR (100),
		[AssignedByEmail]	VARCHAR (100),
		[AssignedByADID]	VARCHAR (50),
		[AssignedTo]		NVARCHAR (100),
		[AssignedToEmail]	VARCHAR (100),
		[AssignedToADID]	VARCHAR (50),
		[AssignedOn]		VARCHAR(50),
		[ServiceAccount]    VARCHAR (100),
		[CallStatus]		VARCHAR (100),
		[AssignmentId]		BIGINT,
		[AssignmentHistoryId]	BIGINT
	);

	DECLARE @JSONString NVARCHAR(MAX) = NULL;


	IF(@TransactionType = 'ENG-I')
	BEGIN
	BEGIN TRY
	-----------------

	IF EXISTS (SELECT * FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK) WHERE A.CaseNumber = @CaseNumber AND A.CallStatusId <> 3)
	BEGIN
		SET @ErrorMsg = 'DB execution failed - CaseNumber already assigned'
		SELECT
			@ErrorMsg												AS [Message],
			''														AS ErrorMessage,
			0					                                    AS [Status],
			@AssignmentId				                            AS Id
			RETURN
	END

	BEGIN TRANSACTION
	-----------------

		INSERT INTO dbo.[T_EngineerAssignment]
		(
			CaseNumber,
			TicketId,
			AssignedTo,
			AssignedToEmail,
			AssignedToADID,
			AssignedOnUTC,
			AssignedBy,
			AssignedByEmail,
			AssignedByADID,
			CallStatusId,
			CreatedOnUTC,
			AdminClosureRemarks
		)
		VALUES
		(
			@CaseNumber,
			@TicketId,
			@AssignedTo,
			@AssignedToEmail,
			@AssignedToADID,
			GETUTCDATE(),
			@AssignedBy,
			@AssignedByEmail,
			@AssignedByADID,
			1,
			GETUTCDATE(),
			@AdminClosureRemarks
		);

		SET @AssignmentId = @@IDENTITY;

		IF(@AssignmentId > 0)
		BEGIN

			INSERT INTO dbo.[T_EngineerAssignmentHistory]
			(
				AssignmentId,
				TicketId,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOnUTC,
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				CallActionId,
				CallStatusId,
				ClosedBy,
				ClosedByEmail,
				ClosedByADID,
				AdminClosureRemarks,
				CreatedOnUTC,
				CaseNumber
			)
			SELECT
				A.AssignmentId,
				A.TicketId,
				A.AssignedTo,
				A.AssignedToEmail,
				A.AssignedToADID,
				A.AssignedOnUTC,
				A.AssignedBy,
				A.AssignedByEmail,
				A.AssignedByADID,
				A.CallActionId,
				A.CallStatusId,
				A.ClosedBy,
				A.ClosedByEmail,
				A.ClosedByADID,
				A.AdminClosureRemarks,
				GETUTCDATE(),
				A.CaseNumber
			FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK)
			WHERE A.AssignmentId = @AssignmentId

			SET @AssignmentHistoryId = @@IDENTITY;

			UPDATE dbo.[T_TicketDetails] SET TicketId = @TicketId WHERE CaseNumber = @CaseNumber;			

			SET @SuccessMsg = 'DB execution successful - EngineerAssignment inserted';

			INSERT INTO @OutputTbl
			SELECT
				TD.CaseNumber,
				TD.TicketId,
				--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
				FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
				A.AssignedBy,
				A.AssignedByEmail,
				A.AssignedByADID,
				A.AssignedTo,
				A.AssignedToEmail,
				A.AssignedToADID,
				--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS AssignedOn,
				FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
				TD.ServiceAccount,
				CS.CallStatus,
				A.AssignmentId,
				@AssignmentHistoryId AS AssignmentHistoryId
			FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK)
			INNER JOIN dbo.[T_TicketDetails] TD WITH(NOLOCK) ON TD.CaseNumber = A.CaseNumber
			LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId
			WHERE A.AssignmentId = @AssignmentId

			SET @JSONString = (
				SELECT 
					CaseNumber,
					TicketId,
					CreatedOn,
					AssignedBy,
					AssignedByEmail,
					AssignedByADID,
					AssignedTo,
					AssignedToEmail,
					AssignedToADID,
					AssignedOn,
					ServiceAccount,
					CallStatus,
					AssignmentId,
					AssignmentHistoryId
				FROM @OutputTbl
			FOR JSON AUTO
			);

		END		

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Insert EngineerAssignment'
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	END

	--------------------------------------------------------------------------------

	IF(@TransactionType = 'ENG-U')
	BEGIN
	BEGIN TRY
	-----------------

		IF NOT EXISTS (SELECT * FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK) WHERE A.AssignmentId = @AssignmentId)
		BEGIN
			SET @ErrorMsg = 'DB execution failed - AssignmentId does not exists'
			SELECT
				@ErrorMsg												AS [Message],
				''														AS ErrorMessage,
				0					                                    AS [Status],
				@AssignmentId				                            AS Id
				RETURN
		END

	BEGIN TRANSACTION
	-----------------

		UPDATE dbo.[T_EngineerAssignment]
		SET AssignedTo = ISNULL(@AssignedTo, AssignedTo),
		AssignedToEmail = ISNULL(@AssignedToEmail, AssignedToEmail),
		AssignedToADID = ISNULL(@AssignedToADID, AssignedToADID),
		AssignedOnUTC = GETUTCDATE(),
		AssignedBy = ISNULL(@AssignedBy, AssignedBy),
		AssignedByEmail = ISNULL(@AssignedByEmail, AssignedByEmail),
		AssignedByADID = ISNULL(@AssignedByADID, AssignedByADID),
		AdminClosureRemarks = ISNULL(@AdminClosureRemarks, AdminClosureRemarks)
		WHERE AssignmentId = @AssignmentId AND CaseNumber = @CaseNumber AND CallStatusId <> 3


		INSERT INTO dbo.[T_EngineerAssignmentHistory]
		(
			AssignmentId,
			TicketId,
			AssignedTo,
			AssignedToEmail,
			AssignedToADID,
			AssignedOnUTC,
			AssignedBy,
			AssignedByEmail,
			AssignedByADID,
			CallActionId,
			CallStatusId,
			ClosedBy,
			ClosedByEmail,
			ClosedByADID,
			AdminClosureRemarks,
			CreatedOnUTC,
			CaseNumber
		)
		SELECT
			A.AssignmentId,
			A.TicketId,
			A.AssignedTo,
			A.AssignedToEmail,
			A.AssignedToADID,
			A.AssignedOnUTC,
			A.AssignedBy,
			A.AssignedByEmail,
			A.AssignedByADID,
			A.CallActionId,
			A.CallStatusId,
			A.ClosedBy,
			A.ClosedByEmail,
			A.ClosedByADID,
			A.AdminClosureRemarks,
			GETUTCDATE(),
			A.CaseNumber
		FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK)
		WHERE A.AssignmentId = @AssignmentId;

		SET @AssignmentHistoryId = @@IDENTITY;	

		SET @SuccessMsg = 'DB execution successful - EngineerAssignment updated';

		INSERT INTO @OutputTbl
		SELECT
			TD.CaseNumber,
			TD.TicketId,
			--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
			FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
			A.AssignedBy,
			A.AssignedByEmail,
			A.AssignedByADID,
			A.AssignedTo,
			A.AssignedToEmail,
			A.AssignedToADID,
			--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as AssignedOn,
			FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
			TD.ServiceAccount,
			CS.CallStatus,
			A.AssignmentId,
			@AssignmentHistoryId AS AssignmentHistoryId
		FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK)
		INNER JOIN dbo.[T_TicketDetails] TD WITH(NOLOCK) ON TD.CaseNumber = A.CaseNumber
		LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId
		WHERE A.AssignmentId = @AssignmentId

		SET @JSONString = (
			SELECT 
				CaseNumber,
				TicketId,
				CreatedOn,
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOn,
				ServiceAccount,
				CallStatus,
				AssignmentId,
				AssignmentHistoryId
			FROM @OutputTbl
		FOR JSON AUTO
		);

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Update EngineerAssignment'
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	END
	
	--------------------------------------------------------------------------------

	IF(@TransactionType = 'ADMIN-U')
	BEGIN
	BEGIN TRY
	-----------------

		IF NOT EXISTS (SELECT * FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK) WHERE A.AssignmentId = @AssignmentId)
		BEGIN
			SET @ErrorMsg = 'DB execution failed - AssignmentId does not exists'
			SELECT
				@ErrorMsg												AS [Message],
				''														AS ErrorMessage,
				0					                                    AS [Status],
				@AssignmentId				                            AS Id
				RETURN
		END

		DECLARE @OutputTbl2 AS TABLE
		(
			[CaseNumber]		VARCHAR (50),
			[TicketId]			BIGINT,
			[CreatedOn]			VARCHAR(50),
			[AssignedBy]		NVARCHAR (100),
			[AssignedByEmail]	VARCHAR (100),
			[AssignedByADID]	VARCHAR (50),
			[AssignedTo]		NVARCHAR (100),
			[AssignedToEmail]	VARCHAR (100),
			[AssignedToADID]	VARCHAR (50),
			[AssignedOn]		VARCHAR(50),
			[ServiceAccount]    VARCHAR (100),
			[CallStatus]		VARCHAR (100),
			[AssignmentId]		BIGINT,
			[AssignmentHistoryId]	BIGINT,
			[CallDetailId]      BIGINT,
			[CallAction]		VARCHAR (50),
			[UpdatedOnIST]		VARCHAR(50),
			[UpdatedBy]			VARCHAR(100),
			[UpdatedByEmail]	VARCHAR(100),
			[UpdatedByADID]		VARCHAR(50),
			[CloserRemarks]		NVARCHAR(MAX),
			[AdminClosureRemarks] NVARCHAR(MAX)
		);

	BEGIN TRANSACTION
	-----------------

		UPDATE dbo.[T_EngineerAssignment]
		SET CallStatusId = ISNULL(@CallStatusId, CallStatusId),
		AdminClosureRemarks = ISNULL(@AdminClosureRemarks, AdminClosureRemarks)
		WHERE AssignmentId = @AssignmentId AND CaseNumber = @CaseNumber;

		--IF(@CallActionId = 1 AND @CallStatusId = 3)
		IF(@CallStatusId = 3)
		BEGIN

			UPDATE dbo.[T_EngineerAssignment]
			SET ClosedBy = ISNULL(@ClosedBy, ClosedBy),
			ClosedByEmail = ISNULL(@ClosedByEmail, ClosedByEmail),
			ClosedByADID = ISNULL(@ClosedByADID, ClosedByADID),
			ClosedOnUTC = GETUTCDATE()
			WHERE AssignmentId = @AssignmentId AND CaseNumber = @CaseNumber;

		END
		
		SET @SuccessMsg = 'DB execution successful - EngineerAssignment updated by Admin';

		INSERT INTO @OutputTbl2
		(
			CaseNumber,
			TicketId,
			CreatedOn,
			AssignedBy,
			AssignedByEmail,
			AssignedByADID,
			AssignedTo,
			AssignedToEmail,
			AssignedToADID,
			AssignedOn,
			ServiceAccount,
			CallStatus,
			AssignmentId,
			AssignmentHistoryId,
			CallDetailId,
			CallAction,
			UpdatedOnIST,
			UpdatedBy,
			UpdatedByEmail,
			UpdatedByADID,
			CloserRemarks,
			AdminClosureRemarks
		)
		SELECT
			TD.CaseNumber,
			TD.TicketId,
			--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
			FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
			A.AssignedBy,
			A.AssignedByEmail,
			A.AssignedByADID,
			A.AssignedTo,
			A.AssignedToEmail,
			A.AssignedToADID,
			--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS AssignedOn,
			FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
			TD.ServiceAccount,
			CS.CallStatus,
			A.AssignmentId,
			AH.AssignmentHistoryId,
			0,
			NULL,
			FORMAT(SWITCHOFFSET(A.ClosedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS UpdatedOnIST,
			A.ClosedBy,
			A.ClosedByEmail,
			A.ClosedByADID,
			A.AdminClosureRemarks,
			A.AdminClosureRemarks
		FROM dbo.[T_TicketDetails] TD WITH(NOLOCK)
		INNER JOIN dbo.[T_EngineerAssignment] A WITH(NOLOCK) ON A.CaseNumber = TD.CaseNumber
		INNER JOIN dbo.[T_EngineerAssignmentHistory] AH WITH(NOLOCK) ON AH.AssignmentId = A.AssignmentId
		LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId
		WHERE TD.CaseNumber = @CaseNumber
		AND A.CaseNumber = @CaseNumber
		AND A.AssignmentId = @AssignmentId

		SET @JSONString = (
			SELECT 
				CaseNumber,
				TicketId,
				CreatedOn,
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOn,
				ServiceAccount,
				CallStatus,
				AssignmentId,
				AssignmentHistoryId,
				CallDetailId,
				CallAction,
				UpdatedOnIST,
				UpdatedBy,
				UpdatedByEmail,
				UpdatedByADID,
				CloserRemarks,
				AdminClosureRemarks
			FROM @OutputTbl2
		FOR JSON AUTO
		);

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
	ROLLBACK TRANSACTION
	SET @ErrorMsg = 'DB execution failed - Admin Update EngineerAssignment'
    SELECT
        @ErrorMsg												AS [Message],
        ERROR_MESSAGE()		                                    AS ErrorMessage,
        0					                                    AS [Status],
        ''				                                        AS Id
        RETURN
	END CATCH
	-----------------
	END


	COMMIT TRANSACTION
	-----------------
	SELECT
		@SuccessMsg												AS [Message],
		''						                                AS ErrorMessage,
		1					                                    AS [Status],
		@AssignmentId											AS Id,
		@CaseNumber												AS ReferenceNo,
		@JSONString												AS ReferenceObject
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@TransactionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedOnIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedOnIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AdminClosureRemarks]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[TicketId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[ServiceAccount]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[CallStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignmentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl].[AssignmentHistoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[TicketId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[ServiceAccount]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AssignmentHistoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallDetailId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CallAction]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedOnIST]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[UpdatedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[CloserRemarks]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@OutputTbl2].[AdminClosureRemarks]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@TransactionType]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@TicketId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignmentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedToEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedToADID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AssignedByADID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@CallActionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@CallStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@ClosedByADID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignment_InsertUpdate].[@AdminClosureRemarks]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="14382" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_EngineerAssignment_InsertUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@TransactionType VARCHAR(10) = NULL,&#xD;&#xA;&#x9;@TicketId BIGINT = NULL,&#xD;&#xA;&#x9;@AssignmentId BIGINT = 0,&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;    @AssignedTo NVARCHAR(100) = NULL,&#xD;&#xA;    @AssignedToEmail VARCHAR(100) = NULL,&#xD;&#xA;    @AssignedToADID VARCHAR(50) = NULL,&#xD;&#xA;    @AssignedBy NVARCHAR(100) = NULL,&#xD;&#xA;    @AssignedByEmail VARCHAR(100) = NULL,&#xD;&#xA;    @AssignedByADID VARCHAR(50) = NULL,&#xD;&#xA;    @CallActionId INT = NULL,&#xD;&#xA;    @CallStatusId INT = NULL,&#xD;&#xA;    @ClosedBy VARCHAR(100) = NULL,&#xD;&#xA;    @ClosedByEmail VARCHAR(100) = NULL,&#xD;&#xA;    @ClosedByADID VARCHAR(100) = NULL,&#xD;&#xA;    @AdminClosureRemarks NVARCHAR(MAX) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_EngineerAssignmentHistory_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  BEGIN

		SELECT 
			[AssignmentHistoryId]
			,[AssignmentId]
			,[CaseNumber]
			,[TicketId]
			,[AssignedTo]
			,[AssignedToEmail]
			,[AssignedToADID]
			,[AssignedOnUTC]
			,[AssignedBy]
			,[AssignedByEmail]
			,[AssignedByADID]
			,[CallActionId]
			,[CallStatusId]
			,[ClosedBy]
			,[ClosedByEmail]
			,[ClosedByADID]
			,[ClosedOnUTC]
			,[AdminClosureRemarks]
			,[CreatedOnUTC]
		FROM [dbo].[T_EngineerAssignmentHistory] EA WITH(NOLOCK)
		WHERE @AssignmentId IS NULL OR EA.AssignmentId = @AssignmentId
			AND (ISNULL(@FromDate,'')= '' OR CONVERT(DATE, SWITCHOFFSET(EA.AssignedOnUTC, '+05:30')) >= CONVERT(DATE, @FromDate,103))
			AND (ISNULL(@ToDate ,'')= '' OR  CONVERT(DATE, SWITCHOFFSET(EA.AssignedOnUTC, '+05:30')) <= CONVERT(DATE, @ToDate,103))
		ORDER BY EA.AssignmentHistoryId DESC

  END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@FromDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@ToDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@AssignmentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@FromDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_EngineerAssignmentHistory_Get].[@ToDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1003" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE usp_T_EngineerAssignmentHistory_Get&#xD;&#xA;  (&#xD;&#xA;&#x9;@AssignmentId BIGINT = NULL,&#xD;&#xA;    @FromDate VARCHAR(10) = NULL,&#xD;&#xA;    @ToDate VARCHAR(10) = NULL&#xD;&#xA;  )&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_Ticket_ByCaseNumber]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SELECT
        TD.CaseNumber,
		TD.TicketId,
		TD.TicketType,
        FromEmail,
        ToEmail,
        CaseSubject,
        WorkOrderNumber,
        ServiceAccount,
        ContactName,
        ContactEmail,
        ContactPhone,
        ServiceDeliveryStreetAddress,
        ServiceDeliveryCity,
        ServiceDeliveryCountry,
        PostalCode,
        SerialNumber,
        ProductName,
        ProductNumber,
        OTCCode,
        PartNumber,
        PartDescription,
        EmailSubject,
        FORMAT(SWITCHOFFSET(EmailDate, '+05:30'),'yyyy-MM-dd HH:mm:ss') as EmailDate,
        FORMAT(SWITCHOFFSET(CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOn,
        ISNULL(PartNumber2,'') AS PartNumber2,
        ISNULL(PartDescription2,'')  AS PartDescription2,
        ISNULL(PartNumber3,'') AS PartNumber3,
        ISNULL(PartDescription3,'') AS PartDescription3,
		EA.AssignmentId,
		CASE
			WHEN EA.AssignmentId IS NOT NULL THEN EA.AssignedTo +' (' + EA.AssignedToEmail + ')'
			ELSE 'Not Assigned'
		END AS AssignedTo,
		CASE
			WHEN EA.AssignmentId IS NOT NULL THEN EA.AssignedBy +' (' + EA.AssignedByEmail + ')'
			ELSE 'Not Assigned'
		END AS AssignedBy,
		CASE
			WHEN EA.AssignmentId IS NOT NULL THEN CS.CallStatus
			ELSE '-'
		END AS CallStatus,
		CASE
			WHEN EA.AssignmentId IS NOT NULL AND CA.CallActionId IS NOT NULL THEN CA.CallAction
			ELSE '-'
		END AS CallAction
    FROM [dbo].[T_TicketDetails] TD WITH(NOLOCK)

	LEFT JOIN [dbo].[T_EngineerAssignment] EA ON EA.CaseNumber = TD.CaseNumber

	LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = EA.CallStatusId

	LEFT JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = EA.CallActionId	

    WHERE
        (ISNULL(@CaseNumber,'')='' OR TD.CaseNumber LIKE @CaseNumber + '%')
		AND (@TicketId IS NULL OR TD.TicketId = @TicketId)
        AND (ISNULL(@SerialNumber,'') = '' OR SerialNumber LIKE @SerialNumber + '%')
        AND (ISNULL(@PartNumber,'')= '' OR PartNumber LIKE @PartNumber + '%')
        AND (ISNULL(@FromDate,'')= '' OR CONVERT(DATE, SWITCHOFFSET(EmailDate, '+05:30')) >= CONVERT(DATE, @FromDate,103))
        AND (ISNULL(@ToDate ,'')= '' OR  CONVERT(DATE, SWITCHOFFSET(EmailDate, '+05:30')) <= CONVERT(DATE, @ToDate,103))
		AND
		(
			(@IsAssigned IS NULL)
			OR
			(@IsAssigned = 0 AND EA.AssignmentId IS NULL)
			OR
			(@IsAssigned = 1 AND EA.AssignmentId IS NOT NULL)
		)
		AND (ISNULL(@AssignedTo,'')='' OR EA.AssignedTo LIKE @AssignedTo + '%')
		AND (ISNULL(@AssignedToEmail,'') = '' OR EA.AssignedToEmail = @AssignedToEmail)
		AND (ISNULL(@AssignedBy,'')='' OR EA.AssignedBy LIKE @AssignedBy + '%')
		AND (ISNULL(@AssignedByEmail,'') = '' OR EA.AssignedByEmail = @AssignedByEmail)
		AND (@CallStatusId IS NULL OR EA.CallStatusId = @CallStatusId)
		AND (@CallActionId IS NULL OR EA.CallActionId = @CallActionId)
	ORDER BY EmailDate DESC;


	IF(ISNULL(@CaseNumber,'') != '')
	BEGIN

		SELECT 
			[AssignmentId]
			,[CaseNumber]
			--,[TicketId]
			,[AssignedTo]
			,[AssignedToEmail]
			,[AssignedToADID]
			--,[AssignedOnUTC]
			,FORMAT(SWITCHOFFSET(AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as AssignedOnUTC
			,[AssignedBy]
			,[AssignedByEmail]
			,[AssignedByADID]
			,EA.[CallActionId]
			,CASE 
				WHEN EA.[CallActionId] IS NOT NULL THEN CA.CallAction
				ELSE 'Action Pending'
			 END AS 'CallAction'
			,EA.[CallStatusId]
			,CS.CallStatus
			,[ClosedBy]
			,[ClosedByEmail]
			--,[ClosedOnUTC]
			,FORMAT(SWITCHOFFSET(ClosedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as ClosedOnUTC
			,[AdminClosureRemarks]
			,[ClosedByADID]
			--,[CreatedOnUTC]
			,FORMAT(SWITCHOFFSET(CreatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUTC
		FROM [dbo].[T_EngineerAssignment] EA WITH(NOLOCK)

		INNER JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = EA.CallStatusId

		LEFT JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = EA.CallActionId		

		WHERE EA.CaseNumber = @CaseNumber;

		SELECT
			[AssignmentHistoryId]
			,EAH.[AssignmentId]
			,EAH.[AssignedTo]
			,EAH.[AssignedToEmail]
			,EAH.[AssignedToADID]
			--,[AssignedOnUTC]
			,FORMAT(SWITCHOFFSET(EAH.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as AssignedOnUTC
			,EAH.[AssignedBy]
			,EAH.[AssignedByEmail]
			,EAH.[AssignedByADID]
			,EAH.[CallActionId]
			,CASE 
				WHEN EAH.[CallActionId] IS NOT NULL THEN CA.CallAction
				ELSE 'Action Pending'
			END AS 'CallAction'
			,EAH.[CallStatusId]
			,CS.CallStatus
			,EAH.[ClosedBy]
			,EAH.[ClosedByEmail]
			,EAH.[ClosedByADID]
			--,[ClosedOnUTC]
			,FORMAT(SWITCHOFFSET(EAH.ClosedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as ClosedOnUTC
			,EAH.[AdminClosureRemarks]
			--,[CreatedOnUTC]
			,FORMAT(SWITCHOFFSET(EAH.CreatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUTC
		FROM [dbo].[T_EngineerAssignmentHistory] EAH WITH(NOLOCK)

		INNER JOIN [dbo].[T_EngineerAssignment] EA WITH(NOLOCK)
		ON EAH.AssignmentId = EA.AssignmentId
		AND EA.CaseNumber = @CaseNumber

		INNER JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = EAH.CallStatusId

		LEFT JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = EAH.CallActionId		

		ORDER BY EAH.AssignmentHistoryId DESC;


		SELECT 
			[CallDetailId]
			,[AssignmentId]
			,[UpdatedBy]
			,[UpdatedByEmail]
			,[UpdatedByADID]
			--,[UpdatedOnUTC]
			,FORMAT(SWITCHOFFSET(UpdatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') as UpdatedOnUTC
			,CD.[CallActionId]
			,CA.CallAction
			,[CustomerName]
			,[CaseNumber]
			,[UnitSlNo]
			,[PassId]
			,[TaskStartDateTimeIST]
			,[TaskEndDateTimeIST]
			,[CloserRemarks]
			,CD.[PartConsumptionTypeId]
			,PCT.PartConsumptionType
			,[SONo]
			,[RequiredPart]
			,[RequiredSparePartNo]
			,[RequiredPartName]
			,[FaultyPartCTNo]
			,[FailureId]
			,[IssueDescription]
			,[TroubleshootingStep]
			,[FirstPartConsumptionTypeId]
			--,PCT.PartConsumptionType AS 'FirstPartConsumptionType'
			,(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = FirstPartConsumptionTypeId) AS 'FirstPartConsumptionType'
			,[FirstPartSONo]
			,[FirstRequiredPartName]
			,[ReceivedPartConsumptionTypeId]
			--,PCT.PartConsumptionType AS 'ReceivedPartConsumptionType'
			,(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = ReceivedPartConsumptionTypeId) AS 'ReceivedPartConsumptionType'
			,[ReceivedPartName]
		FROM [dbo].[T_CallDetails] CD WITH(NOLOCK)

		INNER JOIN [dbo].[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = CD.CallActionId

		LEFT JOIN [dbo].[M_PartConsumptionType] PCT WITH(NOLOCK) ON (PCT.PartConsumptionTypeId = CD.PartConsumptionTypeId)

		WHERE CD.CaseNumber = @CaseNumber
		ORDER BY CallDetailId DESC;


		SELECT 
			[DocumentId]
			,CDOC.[CallDetailId]
			,CDOC.[DocumentTypeId]
			,DT.DocumentType
			,[DocumentName]
			,[MimeType]
			,[DocumentUrlPath]
			,[IsActive]
			,[InternalName]
			--,[CreatedOnUCT]
			,FORMAT(SWITCHOFFSET(CreatedOnUCT, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOnUCT
			--,CDOC.[UpdatedOnUTC]
			,FORMAT(SWITCHOFFSET(CDOC.[UpdatedOnUTC], '+05:30'),'yyyy-MM-dd HH:mm:ss') as UpdatedOnUTC
		FROM [dbo].[T_CallDocuments] CDOC WITH(NOLOCK)

		INNER JOIN [dbo].[M_DocumentType] DT WITH(NOLOCK) ON DT.DocumentTypeId = CDOC.DocumentId

		INNER JOIN [dbo].[T_CallDetails] CD WITH(NOLOCK) 
		ON CD.CallDetailId = CDOC.CallDetailId 
		AND CD.CaseNumber = @CaseNumber
		ORDER BY DocumentId DESC;


	END

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[FromEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[WorkOrderNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryStreetAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCountry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PostalCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[OTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@FromDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@ToDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@IsAssigned]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CustomerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UnitSlNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PassId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskStartDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskEndDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[SONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredSparePartNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FaultyPartCTNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FailureId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[IssueDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TroubleshootingStep]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartSONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstRequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@TicketId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@SerialNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@PartNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@FromDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@ToDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedToEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@AssignedByEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@IsAssigned]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CallStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_Ticket_ByCaseNumber].[@CallActionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="8189" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_Ticket_ByCaseNumber]&#xD;&#xA;(&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@TicketId BIGINT = NULL,&#xD;&#xA;&#x9;@SerialNumber NVARCHAR(50) = NULL,&#xD;&#xA;&#x9;@PartNumber NVARCHAR(100) = NULL,&#xD;&#xA;    @FromDate VARCHAR(10) = NULL,&#xD;&#xA;    @ToDate VARCHAR(10) = NULL,&#xD;&#xA;&#x9;@AssignedTo NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@AssignedToEmail VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@AssignedBy NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@AssignedByEmail VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@IsAssigned BIT = NULL,&#xD;&#xA;&#x9;@CallStatusId INT = NULL,&#xD;&#xA;&#x9;@CallActionId INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

;WITH TicketTimeline AS (
    SELECT
        TD.CaseNumber,
        TD.CreatedOn AS EventTimeUTC,
        FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS EventTimeIST,
        'Ticket Created' AS EventType,
        NULL AS AssignmentId,
        NULL AS CallDetailId
    FROM dbo.[T_TicketDetails] TD WITH(NOLOCK) WHERE TD.CaseNumber = @CaseNumber

    UNION

	SELECT
		EAH.CaseNumber,
		EAH.AssignedOnUTC AS EventTimeUTC,
		FORMAT(SWITCHOFFSET(EAH.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS EventTimeIST,
		'Engineer Assigned' AS EventType,
		EAH.AssignmentHistoryId AS AssignmentId,
		NULL AS CallDetailId
	FROM dbo.[T_EngineerAssignmentHistory] EAH WITH(NOLOCK) WHERE EAH.CaseNumber = @CaseNumber

    UNION

    SELECT
        CD.CaseNumber,
        CD.UpdatedOnUTC AS EventTimeUTC,
		FORMAT(SWITCHOFFSET(CD.UpdatedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS EventTimeIST,
        'Action Taken' AS EventType,
        NULL AS AssignmentId,
        CD.CallDetailId AS CallDetailId
    FROM dbo.[T_CallDetails] CD WITH(NOLOCK) WHERE CD.CaseNumber = @CaseNumber

	UNION

	SELECT
			EA.CaseNumber,
			EA.ClosedOnUTC AS EventTimeUTC,
			FORMAT(SWITCHOFFSET(EA.ClosedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS EventTimeIST,
			'Admin - Ticket Closed' AS EventType,
			0 AS AssignmentId,
			NULL AS CallDetailId
	FROM dbo.[T_EngineerAssignment] EA WITH(NOLOCK) WHERE EA.CaseNumber = @CaseNumber AND AdminClosureRemarks IS NOT NULL
	
)

SELECT
	ROW_NUMBER() OVER (PARTITION BY TT.CaseNumber ORDER BY TT.EventTimeUTC) AS SlNo,
	TT.CaseNumber,
	TT.EventTimeUTC,
	TT.EventTimeIST,
	TT.EventType,
	TT.AssignmentId,
	TT.CallDetailId,
	CA.CallAction,
	EAH.AssignmentHistoryId,
	EAH.AssignedTo,
	EAH.AssignedToEmail,
	EAH.AssignedBy,
	EAH.AssignedByEmail,
	CD.UpdatedBy,
	CD.UpdatedByEmail,
	CD.CustomerName,
	CD.UnitSlNo,
	CD.PassId,
	CD.TaskStartDateTimeIST,
	CD.TaskEndDateTimeIST,
	CD.CloserRemarks,
	CD.PartConsumptionTypeId,
	(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = CD.PartConsumptionTypeId) AS PartConsumptionType,
	CD.SONo,
	CD.RequiredPart,
	CD.RequiredSparePartNo,
	CD.RequiredPartName,
	CD.FaultyPartCTNo,
	CD.FailureId,
	CD.IssueDescription,
	CD.TroubleshootingStep,
	CD.FirstPartConsumptionTypeId,
	(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = CD.FirstPartConsumptionTypeId) AS FirstPartConsumptionType,
	CD.FirstPartSONo,
	CD.FirstRequiredPartName,
	CD.ReceivedPartConsumptionTypeId,
	(SELECT PCT.PartConsumptionType FROM dbo.[M_PartConsumptionType] PCT WITH(NOLOCK) WHERE PCT.PartConsumptionTypeId = CD.ReceivedPartConsumptionTypeId) AS ReceivedPartConsumptionType,
	CD.ReceivedPartName,
	EA.AdminClosureRemarks,
	EA.ClosedBy,
	EA.ClosedByEmail,
	EA.TicketId
FROM TicketTimeline TT

LEFT JOIN dbo.[T_EngineerAssignmentHistory] EAH WITH(NOLOCK) ON EAH.AssignmentHistoryId = TT.AssignmentId

LEFT JOIN dbo.[T_EngineerAssignment] EA WITH(NOLOCK) ON TT.CaseNumber = EA.CaseNumber AND TT.AssignmentId = 0

LEFT JOIN dbo.[T_CallDetails] CD WITH(NOLOCK) ON CD.CallDetailId = TT.CallDetailId

LEFT JOIN dbo.[M_CallAction] CA WITH(NOLOCK) ON CA.CallActionId = CD.CallActionId

ORDER BY TT.EventTimeUTC DESC;

------------------------------

SELECT 
	[DocumentId]
	,CD.[CallDetailId]
	,CD.[DocumentTypeId]
	,DT.DocumentType
	,[DocumentName]
	,[MimeType]
	,[DocumentUrlPath]
	,[IsActive]
	,[InternalName]
	,[CreatedOnUCT]
	,CD.[UpdatedOnUTC]
FROM [dbo].[T_CallDocuments] CD WITH(NOLOCK)

INNER JOIN [dbo].[M_DocumentType] DT WITH(NOLOCK) ON DT.DocumentTypeId = CD.DocumentId

INNER JOIN [dbo].[T_CallDetails] CD2 WITH(NOLOCK) ON CD2.CallDetailId = CD.CallDetailId AND CD2.CaseNumber = @CaseNumber

ORDER BY CD.[CallDetailId] DESC

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallAction].[CallAction]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UpdatedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CustomerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[UnitSlNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PassId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskStartDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TaskEndDateTimeIST]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CloserRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_PartConsumptionType].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[PartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[SONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredSparePartNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[RequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FaultyPartCTNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FailureId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[IssueDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[TroubleshootingStep]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstPartSONo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[FirstRequiredPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartConsumptionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[ReceivedPartName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CallDetailId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_DocumentType].[DocumentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[MimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[DocumentUrlPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[InternalName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[CreatedOnUCT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_CallDocuments].[UpdatedOnUTC]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[CaseNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[EventTimeUTC]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[EventTimeIST]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[EventType]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[AssignmentId]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[CTE1].[TicketTimeline].[CallDetailId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_T_TicketTimeline_ByCaseNumber].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4036" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_T_TicketTimeline_ByCaseNumber]&#xD;&#xA;(&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_Ticket_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SELECT
        CaseNumber,
        FromEmail,
        ToEmail,
        CaseSubject,
        WorkOrderNumber,
        ServiceAccount,
        ContactName,
        ContactEmail,
        ContactPhone,
        ServiceDeliveryStreetAddress,
        ServiceDeliveryCity,
        ServiceDeliveryCountry,
        PostalCode,
        SerialNumber,
        ProductName,
        ProductNumber,
        OTCCode,
        PartNumber,
        PartDescription,
        EmailSubject,
        FORMAT(SWITCHOFFSET(EmailDate, '+05:30'),'yyyy-MM-dd HH:mm:ss') as EmailDate,
        FORMAT(SWITCHOFFSET(CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') as CreatedOn,
        ISNULL(PartNumber2,'') AS PartNumber2,
        ISNULL(PartDescription2,'')  AS PartDescription2,
        ISNULL(PartNumber3,'') AS PartNumber3,
        ISNULL(PartDescription3,'') AS PartDescription3
    FROM [dbo].[T_TicketDetails] WITH(NOLOCK)
    WHERE
        (ISNULL(@CaseNumber,'')='' OR CaseNumber LIKE @CaseNumber + '%')
        AND (ISNULL(@SerialNumber,'') = '' OR SerialNumber LIKE @SerialNumber + '%')
        AND (ISNULL(@PartNumber,'')= '' OR PartNumber LIKE @PartNumber + '%')
        AND (ISNULL(@FromDate,'')= '' OR CONVERT(DATE, SWITCHOFFSET(EmailDate, '+05:30')) >= CONVERT(DATE, @FromDate,103))
        AND (ISNULL(@ToDate ,'')= '' OR  CONVERT(DATE, SWITCHOFFSET(EmailDate, '+05:30')) <= CONVERT(DATE, @ToDate,103))
	ORDER BY EmailDate DESC
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[FromEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[WorkOrderNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryStreetAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCountry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PostalCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[OTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Get].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Get].[@SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Get].[@PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Get].[@FromDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Get].[@ToDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Get].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Get].[@SerialNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Get].[@PartNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Get].[@FromDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Get].[@ToDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1681" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_Ticket_Get]&#xD;&#xA;(&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@SerialNumber NVARCHAR(50) = NULL,&#xD;&#xA;&#x9;@PartNumber NVARCHAR(100) = NULL,&#xD;&#xA;    @FromDate VARCHAR(10) = NULL,&#xD;&#xA;    @ToDate VARCHAR(10) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_Ticket_Insert]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	BEGIN TRANSACTION

    INSERT INTO [dbo].[T_TicketDetails] 
    (
        [CaseNumber],
        [FromEmail],
        [ToEmail],
        [CaseSubject],
        [WorkOrderNumber],
        [ServiceAccount],
        [ContactName],
        [ContactEmail],
        [ContactPhone],
        [ServiceDeliveryStreetAddress],
        [ServiceDeliveryCity],
        [ServiceDeliveryCountry],
        [PostalCode],
        [SerialNumber],
        [ProductName],
        [ProductNumber],
        [OTCCode],
        [PartNumber],
        [PartDescription],
        [EmailSubject],
        [EmailDate],
        [CreatedOn],
		[PartNumber2],
        [PartDescription2],
		[PartNumber3],
        [PartDescription3]
    )
    VALUES 
    (
        @CaseNumber,
        @FromEmail,
        @ToEmail,
        @CaseSubject,
        @WorkOrderNumber,
        @ServiceAccount,
        @ContactName,
        @ContactEmail,
        @ContactPhone,
        @ServiceDeliveryStreetAddress,
        @ServiceDeliveryCity,
        @ServiceDeliveryCountry,
        @PostalCode,
        @SerialNumber,
        @ProductName,
        @ProductNumber,
        @OTCCode,
        @PartNumber,
        @PartDescription,
        @EmailSubject,
        @EmailDate,
        GETUTCDATE(),
		@PartNumber2,
		@PartDescription2,
		@PartNumber3,
		@PartDescription3
    )

    IF @@ERROR<>0
    BEGIN
	    ROLLBACK TRANSACTION
	    SELECT 
		    ''                      AS [SuccessMessage],
		    'Create failed'		    AS ErrorMessage,
		    0						AS [Status],
		    ''						AS ReferenceNo
	    RETURN
    END

    COMMIT TRANSACTION
    SELECT 
    'Create executed'          AS [SuccessMessage],
    ''						   AS ErrorMessage,
    1					       AS [Status],
    @CaseNumber				   AS ReferenceNo

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[FromEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[WorkOrderNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryStreetAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceDeliveryCountry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PostalCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[OTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[EmailDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartNumber3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[PartDescription3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@FromEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@WorkOrderNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ContactPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryStreetAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryCountry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PostalCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@OTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@EmailSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@EmailDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartNumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartDescription2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartNumber3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_Ticket_Insert].[@PartDescription3]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@CaseNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@FromEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ToEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@CaseSubject]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@WorkOrderNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ServiceAccount]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ContactName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ContactEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ContactPhone]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryStreetAddress]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryCity]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ServiceDeliveryCountry]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PostalCode]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@SerialNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ProductName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@ProductNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@OTCCode]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartDescription]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@EmailSubject]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@EmailDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartNumber2]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartDescription2]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartNumber3]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_Ticket_Insert].[@PartDescription3]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2912" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_Ticket_Insert]&#xD;&#xA;(&#xD;&#xA;&#x9;@CaseNumber VARCHAR(50) = NULL,&#xD;&#xA;    @FromEmail VARCHAR(100) = NULL,&#xD;&#xA;    @ToEmail VARCHAR(100) = NULL,&#xD;&#xA;    @CaseSubject NVARCHAR(500) = NULL,&#xD;&#xA;    @WorkOrderNumber VARCHAR(50) = NULL,&#xD;&#xA;    @ServiceAccount VARCHAR(100) = NULL,&#xD;&#xA;    @ContactName VARCHAR(100) = NULL,&#xD;&#xA;    @ContactEmail VARCHAR(100) = NULL,&#xD;&#xA;    @ContactPhone VARCHAR(100) = NULL,&#xD;&#xA;    @ServiceDeliveryStreetAddress NVARCHAR(200) = NULL,&#xD;&#xA;    @ServiceDeliveryCity NVARCHAR(50) = NULL,&#xD;&#xA;    @ServiceDeliveryCountry NVARCHAR(50) = NULL,&#xD;&#xA;    @PostalCode VARCHAR(50) = NULL,&#xD;&#xA;    @SerialNumber NVARCHAR(50) = NULL,&#xD;&#xA;    @ProductName NVARCHAR(100) = NULL,&#xD;&#xA;    @ProductNumber VARCHAR(50) = NULL,&#xD;&#xA;    @OTCCode NVARCHAR(100) = NULL,&#xD;&#xA;    @PartNumber NVARCHAR(100) = NULL,&#xD;&#xA;    @PartDescription NVARCHAR(1000) = NULL,&#xD;&#xA;    @EmailSubject NVARCHAR(500) = NULL,&#xD;&#xA;    @EmailDate VARCHAR(50) = NULL,&#xD;&#xA;&#x9;@PartNumber2 NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@PartDescription2 NVARCHAR(1000) = NULL,&#xD;&#xA;&#x9;@PartNumber3 NVARCHAR(100) = NULL,&#xD;&#xA;&#x9;@PartDescription3 NVARCHAR(1000) = NULL&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_TicketInBulk_Insert]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	DECLARE @SuccessMsg VARCHAR(100);
	DECLARE @ErrorMsg VARCHAR(100);

	DECLARE @DuplicateTicketIds VARCHAR(MAX) = NULL;

	DECLARE @JSONString NVARCHAR(MAX) = NULL;

	DECLARE @DuplicateTicketTbl AS TABLE
	(
		CaseNumber VARCHAR(50) NULL
	)

	DECLARE @InsertTicketTbl AS TABLE
	(
		[CaseNumber]		VARCHAR (50)	NULL,
		[TicketId]			BIGINT			NULL,
		[CaseSubject]       NVARCHAR (500)  NULL,
		[ContactName]       VARCHAR (100)   NULL,
		[ContactEmail]      VARCHAR (100)   NULL,
		[SerialNumber]      NVARCHAR (50)   NULL,
		[ProductName]       NVARCHAR (100)  NULL,
		[ProductNumber]     VARCHAR (50)    NULL,
		[CreatedOn]			VARCHAR (50)	NULL,
		[TicketType]        VARCHAR(10)     NULL,
		[AssignedTo]		NVARCHAR (100)	NULL,
		[AssignedToEmail]	VARCHAR (100)	NULL,
		[AssignedToADID]	VARCHAR (50)	NULL,
		[AssignedBy]		NVARCHAR (100)	NULL,
		[AssignedByEmail]	VARCHAR (100)	NULL,
		[AssignedByADID]	VARCHAR (50)	NULL
	);

	DECLARE @OutputTbl AS TABLE
	(
		[CaseNumber]		VARCHAR (50)	NULL,
		[TicketId]			BIGINT			NULL,
		[CaseSubject]       NVARCHAR (500)  NULL,
		[ContactName]       VARCHAR (100)   NULL,
		[ContactEmail]      VARCHAR (100)   NULL,
		[SerialNumber]      NVARCHAR (50)   NULL,
		[ProductName]       NVARCHAR (100)  NULL,
		[ProductNumber]     VARCHAR (50)    NULL,
		[CreatedOn]			VARCHAR (50)	NULL,
		[AssignedBy]		NVARCHAR (100)	NULL,
		[AssignedByEmail]	VARCHAR (100)	NULL,
		[AssignedByADID]	VARCHAR (50)	NULL,
		[AssignedTo]		NVARCHAR (100)	NULL,
		[AssignedToEmail]	VARCHAR (100)	NULL,
		[AssignedToADID]	VARCHAR (50)	NULL,
		[AssignedOn]		VARCHAR(50)		NULL,
		[ServiceAccount]    VARCHAR (100)	NULL,
		[CallStatus]		VARCHAR (100)	NULL,
		[AssignmentId]		BIGINT			NULL,
		[AssignmentHistoryId]	BIGINT		NULL,
		[ConversationId]    NVARCHAR (200)  NULL,
		[ServiceUrl]        NVARCHAR (200)  NULL,
		[InsertStatus]		BIT				NULL,
		[InsertMsg]			NVARCHAR (200)  NULL
	);	


	--INSERT INTO @DuplicateTicketTbl SELECT udt.CaseNumber FROM @udt_TicketDetailsList udt WHERE udt.CaseNumber IN (SELECT TD.CaseNumber FROM dbo.[T_TicketDetails] TD WITH(NOLOCK));

	--IF EXISTS (SELECT * FROM @DuplicateTicketTbl)
	--BEGIN
		
	--	;WITH CTE AS
 --       (
	--		SELECT CaseNumber
	--		FROM @DuplicateTicketTbl
 --       )
 --       SELECT @DuplicateTicketIds = CONCAT(@DuplicateTicketIds,',',CaseNumber) FROM CTE

	--	SET @DuplicateTicketIds = 'Following ticket id(s) already exist in the database: ' + @DuplicateTicketIds;

	--END


	-- INSERT DUPLICATE CASE NUMBER RECORDS
	INSERT INTO @OutputTbl
	(
	  [CaseNumber],
	  [TicketId],
	  [CaseSubject],
	  [ContactName],
	  [ContactEmail],
	  [SerialNumber],
	  [ProductName],
	  [ProductNumber],
	  [CreatedOn],
	  [AssignedBy],
	  [AssignedByEmail],
	  [AssignedByADID],
	  [AssignedTo],
	  [AssignedToEmail],
	  [AssignedToADID],
	  [AssignedOn],
	  [ServiceAccount],
	  [CallStatus],
	  [AssignmentId],
	  [AssignmentHistoryId],
	  --[ConversationId],
	  --[ServiceUrl],
	  [InsertStatus],
	  [InsertMsg]
	)
	SELECT
		udt.CaseNumber,
		udt.TicketId,
		TD.CaseSubject,
		TD.ContactName,
		TD.ContactEmail,
		TD.SerialNumber,
		TD.ProductName,
		TD.ProductNumber,
		--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
		FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
		A.AssignedBy,
		A.AssignedByEmail,
		A.AssignedByADID,
		A.AssignedTo,
		A.AssignedToEmail,
		A.AssignedToADID,
		--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS AssignedOn,
		FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
		TD.ServiceAccount,
		CS.CallStatus,
		A.AssignmentId,
		AH.AssignmentHistoryId,
		0,
		'Ticket Creation Failed: Duplicate ticket id - already exist in the database'		
	FROM @udt_TicketDetailsList udt
	INNER JOIN dbo.[T_TicketDetails] TD WITH(NOLOCK) ON TD.CaseNumber = udt.CaseNumber
	INNER JOIN dbo.[T_EngineerAssignment] A WITH(NOLOCK) ON A.CaseNumber = TD.CaseNumber
	INNER JOIN dbo.[T_EngineerAssignmentHistory] AH WITH(NOLOCK) ON AH.AssignmentId = A.AssignmentId
	LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId;


	IF EXISTS (SELECT * FROM @OutputTbl)
	BEGIN
		
		;WITH CTE AS
        (
			SELECT CaseNumber
			FROM @OutputTbl
        )
        SELECT @DuplicateTicketIds = CONCAT(@DuplicateTicketIds,',',CaseNumber) FROM CTE

		SET @DuplicateTicketIds = 'Following ticket id(s) already exist in the database: ' + @DuplicateTicketIds;

	END


	-- INSERT USER APP NOT INSTALLED RECORDS
	INSERT INTO @OutputTbl
	(
	  [CaseNumber],
	  [TicketId],
	  [CaseSubject],
	  [ContactName],
	  [ContactEmail],
	  [SerialNumber],
	  [ProductName],
	  [ProductNumber],
	  --[CreatedOn],
	  --[AssignedBy],
	  [AssignedByEmail],
	  --[AssignedByADID],
	  --[AssignedTo],
	  [AssignedToEmail],
	  --[AssignedToADID],
	  --[AssignedOn],
	  --[ServiceAccount],
	  --[CallStatus],
	  --[AssignmentId],
	  --[AssignmentHistoryId],
	  --[ConversationId],
	  --[ServiceUrl],
	  [InsertStatus],
	  [InsertMsg]
	)
	SELECT
		udt.CaseNumber,
		udt.TicketId,
		udt.CaseSubject,
		udt.ContactName,
		udt.ContactEmail,
		udt.SerialNumber,
		udt.ProductName,
		udt.ProductNumber,
		udt.AssignedByEmail,
		udt.AssignedToEmail,
		0,
		'Ticket Creation Failed: Engineer app not installed by roaster engineer'		
	FROM @udt_TicketDetailsList udt 
	WHERE udt.AssignedToEmail NOT IN (SELECT C.UserEmail FROM dbo.[T_Conversations] C WITH(NOLOCK) WHERE C.Active = 1 AND C.AppName = 'UserApp')
	AND udt.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl);	


	INSERT INTO @InsertTicketTbl
	(
		[CaseNumber],
		[TicketId],
		[CaseSubject],
		[ContactName],
		[ContactEmail],
		[SerialNumber],
		[ProductName],
		[ProductNumber],
		[CreatedOn],
		[TicketType],
		[AssignedTo],
		[AssignedToEmail],
		[AssignedToADID],
		[AssignedBy],
		[AssignedByEmail],
		[AssignedByADID]
	)
	SELECT
		udt.CaseNumber,
		udt.TicketId,
		udt.CaseSubject,
		udt.ContactName,
		udt.ContactEmail,
		udt.SerialNumber,
		udt.ProductName,
		udt.ProductNumber,
		udt.CreatedOn,
		udt.TicketType,
		udt.AssignedTo,
		udt.AssignedToEmail,
		udt.AssignedToADID,
		udt.AssignedBy,
		udt.AssignedByEmail,
		udt.AssignedByADID
	FROM @udt_TicketDetailsList udt
	WHERE udt.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl);


	UPDATE udt
	SET udt.AssignedTo = C.UserName,
	udt.AssignedToADID = C.UserId
	FROM @InsertTicketTbl udt,
	[dbo].[T_Conversations] C
	WHERE C.UserEmail = udt.AssignedToEmail;


	UPDATE udt
	SET udt.AssignedBy = C.UserName,
	udt.AssignedByADID = C.UserId
	FROM @InsertTicketTbl udt,
	[dbo].[T_Conversations] C
	WHERE C.UserEmail = udt.AssignedByEmail;


	BEGIN TRY
	-----------------

		BEGIN TRANSACTION
		-----------------

		-- INSERT TICKETS
		INSERT INTO [dbo].[T_TicketDetails] 
		(
			[CaseNumber],
			[TicketId],
			--[FromEmail],
			--[ToEmail],
			[CaseSubject],
			--[WorkOrderNumber],
			--[ServiceAccount],
			[ContactName],
			[ContactEmail],
			--[ContactPhone],
			--[ServiceDeliveryStreetAddress],
			--[ServiceDeliveryCity],
			--[ServiceDeliveryCountry],
			--[PostalCode],
			[SerialNumber],
			[ProductName],
			[ProductNumber],
			--[OTCCode],
			--[PartNumber],
			--[PartDescription],
			--[EmailSubject],
			--[EmailDate],
			[CreatedOn],
			--[PartNumber2],
			--[PartDescription2],
			--[PartNumber3],
			--[PartDescription3]
			[TicketType]
		)
		SELECT
			udt.CaseNumber,
			udt.TicketId,
			udt.CaseSubject,
			udt.ContactName,
			udt.ContactEmail,
			udt.SerialNumber,
			udt.ProductName,
			udt.ProductNumber,
			SWITCHOFFSET((CONVERT(DATETIME, udt.CreatedOn, 103)), '-05:30'),
			udt.TicketType
		FROM @InsertTicketTbl udt 
		--WHERE udt.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl)

		SET @SuccessMsg = 'DB execution successful - Ticket(s) inserted from CSV';

		-- ASSIGN ENGINEERS
		INSERT INTO dbo.[T_EngineerAssignment]
		(
			CaseNumber,
			TicketId,
			AssignedTo,
			AssignedToEmail,
			AssignedToADID,
			AssignedOnUTC,
			AssignedBy,
			AssignedByEmail,
			AssignedByADID,
			CallStatusId,
			CreatedOnUTC
		)
		SELECT
			udt.CaseNumber,
			udt.TicketId,
			udt.AssignedTo,
			udt.AssignedToEmail,
			udt.AssignedToADID,
			GETUTCDATE(),
			udt.AssignedBy,
			udt.AssignedByEmail,
			udt.AssignedByADID,
			1,
			GETUTCDATE()
		FROM @InsertTicketTbl udt
		INNER JOIN dbo.[T_TicketDetails] TD ON TD.CaseNumber = udt.CaseNumber
		WHERE udt.CaseNumber = TD.CaseNumber
		--AND udt.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl);

		SET @SuccessMsg = @SuccessMsg + ' & assigned to engineer(s)';

		INSERT INTO dbo.[T_EngineerAssignmentHistory]
			(
				AssignmentId,
				TicketId,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOnUTC,
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				CallActionId,
				CallStatusId,
				ClosedBy,
				ClosedByEmail,
				ClosedByADID,
				AdminClosureRemarks,
				CreatedOnUTC,
				CaseNumber
			)
			SELECT
				A.AssignmentId,
				A.TicketId,
				A.AssignedTo,
				A.AssignedToEmail,
				A.AssignedToADID,
				A.AssignedOnUTC,
				A.AssignedBy,
				A.AssignedByEmail,
				A.AssignedByADID,
				A.CallActionId,
				A.CallStatusId,
				A.ClosedBy,
				A.ClosedByEmail,
				A.ClosedByADID,
				A.AdminClosureRemarks,
				GETUTCDATE(),
				A.CaseNumber
			FROM dbo.[T_EngineerAssignment] A WITH(NOLOCK)
			INNER JOIN @InsertTicketTbl udt ON udt.CaseNumber = A.CaseNumber
			WHERE A.CaseNumber = udt.CaseNumber
			--AND A.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl);

		SET @SuccessMsg = @SuccessMsg + ' & updated assignment history';


		-- INSERT SUCCESS RECORDS
		INSERT INTO @OutputTbl
		(
			[CaseNumber],
			[TicketId],
			[CaseSubject],
			[ContactName],
			[ContactEmail],
			[SerialNumber],
			[ProductName],
			[ProductNumber],
			[CreatedOn],
			[AssignedBy],
			[AssignedByEmail],
			[AssignedByADID],
			[AssignedTo],
			[AssignedToEmail],
			[AssignedToADID],
			[AssignedOn],
			[ServiceAccount],
			[CallStatus],
			[AssignmentId],
			[AssignmentHistoryId],
			--[ConversationId],
			--[ServiceUrl],
			[InsertStatus],
			[InsertMsg]
		)
		SELECT
			TD.CaseNumber,
			TD.TicketId,
			TD.CaseSubject,
			TD.ContactName,
			TD.ContactEmail,
			TD.SerialNumber,
			TD.ProductName,
			TD.ProductNumber,
			--FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS CreatedOn,
			FORMAT(SWITCHOFFSET(TD.CreatedOn, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS CreatedOn,
			A.AssignedBy,
			A.AssignedByEmail,
			A.AssignedByADID,
			A.AssignedTo,
			A.AssignedToEmail,
			A.AssignedToADID,
			--FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'yyyy-MM-dd HH:mm:ss') AS AssignedOn,
			FORMAT(SWITCHOFFSET(A.AssignedOnUTC, '+05:30'),'dd-MM-yyyy HH:mm:ss') AS AssignedOn,
			TD.ServiceAccount,
			CS.CallStatus,
			A.AssignmentId,
			AH.AssignmentHistoryId,
			1,
			'Ticket Creation Successful: Ticket created & assigned'
		FROM dbo.[T_TicketDetails] TD WITH(NOLOCK)
		INNER JOIN dbo.[T_EngineerAssignment] A WITH(NOLOCK) ON A.CaseNumber = TD.CaseNumber
		INNER JOIN dbo.[T_EngineerAssignmentHistory] AH WITH(NOLOCK) ON AH.AssignmentId = A.AssignmentId
		LEFT JOIN [dbo].[M_CallStatus] CS WITH(NOLOCK) ON CS.CallStatusId = A.CallStatusId
		WHERE TD.CaseNumber IN (SELECT CaseNumber FROM @InsertTicketTbl)
		AND TD.CaseNumber NOT IN (SELECT CaseNumber FROM @OutputTbl);


		UPDATE tbl
		SET tbl.ConversationId = C.ConversationId,
		tbl.ServiceUrl = C.ServiceUrl
		FROM @OutputTbl tbl,
		[dbo].[T_Conversations] C
		WHERE C.Active = 1
		AND C.UserEmail = tbl.AssignedToEmail
		AND C.AppName = 'UserApp'
		AND tbl.InsertStatus = 1;


		SET @JSONString = (
			SELECT
				CaseNumber,
				TicketId,
				CaseSubject,
				ContactName,
				ContactEmail,
				SerialNumber,
				ProductName,
				ProductNumber,
				CreatedOn,				
				AssignedBy,
				AssignedByEmail,
				AssignedByADID,
				AssignedTo,
				AssignedToEmail,
				AssignedToADID,
				AssignedOn,
				ServiceAccount,
				CallStatus,
				AssignmentId,
				AssignmentHistoryId,
				ConversationId,
				ServiceUrl,
				InsertStatus,
				InsertMsg
			FROM @OutputTbl
		FOR JSON AUTO
		);

	END TRY
	-----------------
	BEGIN CATCH
	-----------------
		
		ROLLBACK TRANSACTION
		SET @ErrorMsg = 'DB execution failed - Insert ticket(s) from CSV'
		SELECT
		@ErrorMsg												AS [Message],
		ERROR_MESSAGE()		                                    AS ErrorMessage,
		0					                                    AS [Status],
		''				                                        AS Id
		RETURN

	END CATCH
	-----------------

	COMMIT TRANSACTION
	-----------------
	SELECT
		@SuccessMsg												AS [Message],
		''						                                AS ErrorMessage,
		1					                                    AS [Status],
		@@IDENTITY												AS Id,
		@DuplicateTicketIds										AS ReferenceNo,
		@JSONString												AS ReferenceObject

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertMsg]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[TicketType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductNumber]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CreatedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallActionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[ClosedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AdminClosureRemarks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[CallStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignedOnUTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_TicketDetails].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[M_CallStatus].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignment].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_EngineerAssignmentHistory].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[Active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[T_Conversations].[AppName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[TicketId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[SerialNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CreatedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToADID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceAccount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CallStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentHistoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ConversationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertMsg]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_TicketInBulk_Insert].[@DuplicateTicketTbl]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@DuplicateTicketTbl].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CaseSubject]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="500" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ContactEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[SerialNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[ProductNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[TicketType]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@InsertTicketTbl].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[TicketId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseSubject]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="500" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ContactEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[SerialNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ProductNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceAccount]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CallStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[AssignmentHistoryId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ConversationId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[ServiceUrl]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[InsertMsg]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_TicketInBulk_Insert].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[usp_TicketInBulk_Insert].[CTE1].[CTE].[CaseNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[usp_TicketInBulk_Insert].[@OutputTbl].[CaseNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList]" Disambiguator="6">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseNumber]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[TicketId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CaseSubject]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="500" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ContactName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ContactEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[SerialNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ProductName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[ProductNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[CreatedOn]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[TicketType]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedTo]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedToEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedToADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedBy]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedByEmail]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList].[AssignedByADID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_TicketInBulk_Insert].[@udt_TicketDetailsList]">
						<Property Name="IsReadOnly" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References Name="[dbo].[udt_T_TicketDetails]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="13452" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[usp_TicketInBulk_Insert]&#xD;&#xA;(&#xD;&#xA;&#x9;@udt_TicketDetailsList dbo.[udt_T_TicketDetails] READONLY&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
	</Model>
</DataSchemaModel>